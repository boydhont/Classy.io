{"version":3,"file":"fetch-error-message.js","names":["getErrorMessageFromResponseSync","response","concat","url","status","statusText","getErrorMessageFromResponse","_x","_getErrorMessageFromResponse","apply","arguments","_asyncToGenerator2","default","_regenerator","mark","_callee","message","contentType","wrap","_callee$","_context","prev","next","headers","get","includes","t0","text","sent","t1","abrupt","stop"],"sources":["../../../../src/lib/fetch/fetch-error-message.ts"],"sourcesContent":["export function getErrorMessageFromResponseSync(response: Response): string {\n  return `Failed to fetch resource ${response.url}(${response.status}): ${response.statusText} `;\n}\n\nexport async function getErrorMessageFromResponse(response: Response): Promise<string> {\n  let message = `Failed to fetch resource ${response.url} (${response.status}): `;\n  try {\n    const contentType = response.headers.get('Content-Type') || '';\n    if (contentType.includes('application/json')) {\n      message += await response.text();\n    } else {\n      message += response.statusText;\n    }\n  } catch (error) {\n    // eslint forbids return in finally statement\n    return message;\n  }\n  return message;\n}\n"],"mappings":";;;;;;;;;;AAAO,SAASA,+BAA+BA,CAACC,QAAkB,EAAU;EAC1E,mCAAAC,MAAA,CAAmCD,QAAQ,CAACE,GAAG,OAAAD,MAAA,CAAID,QAAQ,CAACG,MAAM,SAAAF,MAAA,CAAMD,QAAQ,CAACI,UAAU;AAC7F;AAAC,SAEqBC,2BAA2BA,CAAAC,EAAA;EAAA,OAAAC,4BAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,6BAAA;EAAAA,4BAAA,OAAAG,kBAAA,CAAAC,OAAA,EAAAC,YAAA,CAAAD,OAAA,CAAAE,IAAA,CAA1C,SAAAC,QAA2Cd,QAAkB;IAAA,IAAAe,OAAA,EAAAC,WAAA;IAAA,OAAAJ,YAAA,CAAAD,OAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAC9DN,OAAO,+BAAAd,MAAA,CAA+BD,QAAQ,CAACE,GAAG,QAAAD,MAAA,CAAKD,QAAQ,CAACG,MAAM;UAAAgB,QAAA,CAAAC,IAAA;UAElEJ,WAAW,GAAGhB,QAAQ,CAACsB,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;UAAA,KAC1DP,WAAW,CAACQ,QAAQ,CAAC,kBAAkB,CAAC;YAAAL,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAAF,QAAA,CAAAM,EAAA,GAC1CV,OAAO;UAAAI,QAAA,CAAAE,IAAA;UAAA,OAAUrB,QAAQ,CAAC0B,IAAI,CAAC,CAAC;QAAA;UAAhCX,OAAO,GAAAI,QAAA,CAAAM,EAAA,IAAAN,QAAA,CAAAQ,IAAA;UAAAR,QAAA,CAAAE,IAAA;UAAA;QAAA;UAEPN,OAAO,IAAIf,QAAQ,CAACI,UAAU;QAAC;UAAAe,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;UAAA,OAAAA,QAAA,CAAAU,MAAA,WAI1Bd,OAAO;QAAA;UAAA,OAAAI,QAAA,CAAAU,MAAA,WAETd,OAAO;QAAA;QAAA;UAAA,OAAAI,QAAA,CAAAW,IAAA;MAAA;IAAA,GAAAhB,OAAA;EAAA,CACf;EAAA,OAAAP,4BAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"}